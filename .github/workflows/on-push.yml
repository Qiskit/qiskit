---
# Push to main or the stable branches.  The triggering branches also need to
# be in the triggers at the top of this file.
name: Push
on:
  push:
    branches: [main, "stable/*"]

jobs:
  test-linux:
    if: github.repository_owner == 'Qiskit'
    uses: ./.github/workflows/test-linux.yml
    with:
      python-version: "3.9"
      install-optionals: false
      runner: ubuntu-latest
  test-rust:
    if: github.repository_owner == 'Qiskit'
    uses: ./.github/workflows/rust-tests.yml
    with:
      python-version: "3.9"
      install-optionals: false
      runner: ubuntu-latest
  test-images:
    if: github.repository_owner == 'Qiskit'
    uses: ./.github/workflows/image-tests.yml
    with:
      python-version: "3.9"
      install-optionals: false
      runner: ubuntu-latest
    
