cmake_minimum_required (VERSION 3.27)
project (Qiskit)

# We are using CMake to build our C API test suite, and we leverage ctest to run
# those tests.
enable_testing ()

# The C API is provided by the qiskit_cext Rust crate. Its header gets
# generated by cbindgen (see `make cheader`). It is important that this done as
# a Release-build for cbindgen to work properly.
find_library (qiskit qiskit_cext PATHS target/release REQUIRED)

# Generally include the directory for the ``qiskit.h`` file.
include_directories (dist/c/include)

# The remaining CMake configuration is done inside of the C API test suite.
add_subdirectory (test/c)
