---
features:
  - |
    Added the ability for analysis passes to set custom heuristic weights
    for the :class:`~.VF2Layout` and :class:`~.VF2PostLayout` transpiler
    passes. If an analysis pass sets the ``vf2_avg_error_map`` key in the
    property set that will be used for the error weights instead of using
    the error rates in the backend's :class:`~.Target` (or
    :class:`~.BackendProperties` for :class:`~.BackendV1`). The value should be
    an :class:`~.ErrorMap` instance each value represents the avg error rate
    for all 1 or 2 qubit operation on those qubits. If a value is ``NaN`` that
    is treated as an ideal edge (or qubit for 1q operations). For example if an
    error map is created as::

        from qiskit.transpiler.passes.layout.vf2_utils import ErrorMap

        error_map = ErrorMap(3)
        error_map.add_error((0, 0), 0.0024)
        error_map.add_error((0, 1), 0.01)
        error_map.add_error((1, 1), 0.0032)

    that represents the error map for a 2 qubit target, where the avg 1q error
    rate is ``0.0024`` on qubit 0 and ``0.0032`` on qubit 1. Then the avg 2q
    error rate for gates that operate on (0, 1) is 0.01 and (1, 0) is not
    supported by the target. This will be used for scoring if it's set as the
    ``vf2_avg_error_map`` key in the property set when :class:`~.VF2Layout` and
    :class:`~.VF2PostLayout` are run.
