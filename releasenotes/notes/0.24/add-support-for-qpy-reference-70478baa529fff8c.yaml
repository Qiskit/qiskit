---
features_pulse:
  - |
    Added support to QPY (:mod:`qiskit.qpy`) for working with pulse
    :class:`~.ScheduleBlock` instances with unassigned references,
    and preserving the data structure for the reference to subroutines.
    This feature allows users to serialize and deserialize a template pulse
    program for tasks such as pulse calibration. For example:

    .. code-block:: python

      from qiskit import pulse
      from qiskit import qpy

      with pulse.build() as schedule:
          pulse.reference("cr45p", "q0", "q1")
          pulse.reference("x", "q0")
          pulse.reference("cr45p", "q0", "q1")

      with open('template_ecr.qpy', 'wb') as fd:
          qpy.dump(schedule, fd)
