---
fixes:
  - |
    Fixed an issue where the QASM output generated by the
    :meth:`~qiskit.circuit.QuantumCircuit.qasm` method of
    :class:`~qiskit.circuit.QuantumCircuit` for composite gates such as
    :class:`~qiskit.circuit.library.MCXGate` and its variants (
    :class:`~qiskit.circuit.library.MCXGrayCode`,
    :class:`~qiskit.circuit.library.MCXRecursive`, and
    :class:`~qiskit.circuit.library.MCXVChain`) would be incorrect. Now if a
    :class:`~qiskit.circuit.Gate` in the circuit is not present in
    ``qelib1.inc``, its definition is added to the output QASM string.
    Fixed `#4943 <https://github.com/Qiskit/qiskit-terra/issues/4943>`__ and
    `#3945 <https://github.com/Qiskit/qiskit-terra/issues/3945>`__
