---
fixes:
  - |
    Fixed an issue with :func:`.qpy.load` when loading a QPY payload that
    contains a :class:`.ParameterExpression` that was generated when symengine
    0.11 was installed and trying to load it in an environment where symengine
    0.13 (the latest symengine release as of this qiskit release) or vice versa.
    Previously, an error would have been raised by symengine around this version
    mismatch. This has been worked around for these two specific symengine versions
    but if you're trying to use different versions of symengine and there is a
    mismatch with this version of Qiskit this might not work. You will need to
    install Qiskit >1.3.0 to fix this mismatch issue more broadly for any potential
    future version of symengine.
issues:
  - |
    When dumping a QPY file using :func:`.qpy.dump` with the ``version=10`` flag and there are
    unbound :class:`.ParameterExpression` in the circuit the output file
    will not be loadable by Qiskit 0.45.x or 0.46.x due to incompatibilities
    in the symengine serialization used between the symengine libraries used
    in the different versions of Qiskit. Qiskit >= 1.0 requires symengine >=
    0.11 and Qiskit < 1.0 required symengine >= 0.9.0 and < 0.10.0. Symengine
    0.9.x and 0.11.0 (or 0.13.0) don't have a compatible serialization formats
    which prevents the files from being loaded. In these cases the only option
    available to generate a QPY file with unbound
    :class:`.ParameterExpression` that can be loaded with Qiskit 0.45.x or
    0.46.x is to set both ``version=10`` and ``use_symengine=False``.
  - |
    When loading a QPY file generated with Qiskit 0.45.x or 0.46.x and the
    ``use_symengine`` flag set to ``True`` (an optional feature), these
    payloads are not parsable with Qiskit >= 1.0 (including this release).
    This is due to changes in the required symengine versions across the
    Qiskit 1.0 major version boundary. Qiskit >= 1.0 requires symengine >=
    0.11 and Qiskit < 1.0 required symengine >= 0.9.0 and < 0.10.0. Symengine
    0.9.x and 0.11.0 (or 0.13.0) don't have a compatible serialization formats
    which prevents newer version of Qiskit from loading those payloads. If you
    have a QPY file generated with Qiskit 0.45.x or 0.46.x and the
    ``use_symengine`` flag was set to ``True`` your only option is to load
    the QPY file using Qiskit 0.46.3 and regenerate it using
    ``use_symengine=False``.
upgrade_other:
  - |
    The requirement on the support versions of `symengine <https://pypi.org/project/symengine/>`__
    has been pre-emptively capped at < 0.14.0 (which is the next minor version as of this release).
    This has been done to protect against a potential incompatibility in :mod:`.qpy` when serializing
    :class:`.ParameterExpression` objects. The serialization used in
    :ref:`qpy_format` versions 10, 11, and 12 for :class:`.ParameterExpression`
    objects is tied to the symengine version used to generate it and there is the potential
    for a future symengine release to not be compatible. This upper version cap is to prevent
    a future release of symengine causing incompatibilities when trying to load QPY files
    using :class:`.qpy.load`.
