---
upgrade_circuits:
  - |
    Some heuristic for value calculations in SymbolExpr.
    `(a + 1.5) + 0.2` was not calculated on the fly previously, this caused
    performance degradation shown in #14653, now the equation is calculated
    as `a + 1.7` that saves memory usages and improves the performance.

    Also integer rational number `Value::Rational` is introduced to calculate
    rational numbers exactly without loss.
    `a/3 + 2*a/3` was not calculated as `a` previously, now SymbolExpr can
    calculate as `a` exactly. When Parameter is evaluated as numerical value
    to Python, rational number is converted to float currently.
    But we can return rational in the future release of pyo3.
