---
features_quantum_info:
  - |
    The high-performance, Rust-accelerated :meth:~.SparseObservable.to_matrix logic has been
    migrated from :class:.SparsePauliOp to :class:.SparseObservable, enabling efficient matrix
    conversion for observables defined with projectors (the extended Pauli alphabet). The
    :meth:~.SparsePauliOp.to_matrix method now uses this new, more general implementation.

    For Example:

    Dense and sparse matrix conversion for a :class:`.SparsePauliOp`:

    .. code-block:: python

        from qiskit.quantum_info import SparsePauliOp

        op = SparsePauliOp(["XI", "YZ"], [1.0, 2.0j])

        # Dense matrix output
        dense = op.to_matrix()
        print(dense)

        # Sparse CSR matrix
        csr_matrix = op.to_matrix(sparse=True)
        print(csr_matrix)

        # You can optionally force serial execution
        dense_serial = op.to_matrix(force_serial=True)
        print(dense_serial)

    Dense and sparse matrix conversion for a :class:`.SparseObservable`:

    .. code-block:: python

        from qiskit.quantum_info import SparseObservable

        obs = SparseObservable.from_list([
            ("XI", 1.0),
            ("YZ", 2.0j),
        ])

        # Dense matrix output
        dense = obs.to_matrix()
        print(dense)

        # Sparse CSR components (data, indices, indptr)
        data, indices, indptr = obs.to_matrix(sparse=True)
        print(data, indices, indptr)

        # Serial mode is supported here as well
        dense_serial = obs.to_matrix(force_serial=True)
        print(dense_serial)